name = "gprof_nn_1d"

# The GPROF-NN 1D retrievals use a multi-layer perceptron (MLP),
# aka fully-connected neural network, as underlying model.
#
# As defines below the model comprises 8 hidden layers with 512 neurons
# each.
#
[architecture]
name = "MLP"

[architecture.body]
hidden_channels = 512
n_layers = 8

# The three sections below define the retrieval input data. The
# default GPROF-NN retrieval uses brightness temperatures (15 canonical
# GPROF channels), 15 corresponding viewing angles, and ancillary data.
[input.brightness_temperatures]
n_features = 15
normalize = "minmax"

[input.viewing_angles]
n_features = 15
normalize = "minmax"

[input.ancillary_data]
n_features = 8
normalize = "minmax"

# The remaining sections define the retrieval outputs.
[output.surface_precip]
kind = "Quantiles"
quantiles = 32
shape = 1

[output.convective_precip]
kind = "Quantiles"
quantiles = 32
shape = 1

[output.rain_water_path]
kind = "Quantiles"
quantiles = 32
shape = 1

[output.ice_water_path]
kind = "Quantiles"
quantiles = 32
shape = 1

[output.cloud_water_path]
kind = "Quantiles"
quantiles = 32
shape = 1

[output.rain_water_content]
kind = "Quantiles"
quantiles = 32
shape = 28

[output.snow_water_content]
kind = "Quantiles"
quantiles = 32
shape = 28

[output.cloud_water_content]
kind = "Quantiles"
quantiles = 32
shape = 28

[output.latent_heat]
kind = "Quantiles"
quantiles = 32
shape = 28
